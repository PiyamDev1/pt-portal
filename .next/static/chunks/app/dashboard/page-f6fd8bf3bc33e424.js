(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{5312:function(e,t,s){Promise.resolve().then(s.bind(s,4830)),Promise.resolve().then(s.bind(s,9896)),Promise.resolve().then(s.t.bind(s,2972,23))},4830:function(e,t,s){"use strict";s.d(t,{default:function(){return c}});var n=s(7437),l=s(7648),i=s(9376),r=s(695);function a(){let e=(0,i.useRouter)(),t=(0,r.createBrowserClient)("https://ckubfbjfjbhuotyfwmac.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNrdWJmYmpmamJodW90eWZ3bWFjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg5ODY1NzgsImV4cCI6MjA3NDU2MjU3OH0._Stz6_nHRQMqs2N1HdJ9Y7gEjL60s2ua9d5YcMn1H3Y"),s=async()=>{await t.auth.signOut(),e.push("/login"),e.refresh()};return(0,n.jsx)("button",{onClick:s,className:"px-4 py-2 text-sm font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition border border-red-100",children:"Sign Out"})}function c(e){let{employeeName:t,role:s,location:r,showBack:c=!1}=e,d=(0,i.useRouter)();return(0,n.jsxs)("nav",{className:"bg-white border-b border-slate-200 px-6 py-4 flex justify-between items-center shadow-sm",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(l.default,{href:"/dashboard",className:"cursor-pointer hover:opacity-80 transition",children:(0,n.jsx)("div",{className:"h-10 w-10 bg-blue-900 rounded-full flex items-center justify-center text-white font-bold",children:"PT"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-lg font-bold text-slate-800",children:"Piyam Travels Portal"}),(0,n.jsxs)("p",{className:"text-xs text-slate-500",children:[null==r?void 0:r.name," (",null==r?void 0:r.branch_code,")"]})]}),c&&(0,n.jsx)("button",{onClick:()=>d.back(),className:"ml-4 text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1",children:"â† Back"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-6",children:[(0,n.jsxs)("div",{className:"text-right hidden sm:block",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-slate-900",children:t}),(0,n.jsx)("p",{className:"text-xs text-blue-600 font-semibold",children:s})]}),(0,n.jsx)(a,{})]})]})}},9896:function(e,t,s){"use strict";s.d(t,{default:function(){return c}});var n=s(7437),l=s(2265),i=s(9376),r=s(695);function a(e){let{showWarning:t,secondsRemaining:s}=e,[i,r]=(0,l.useState)(!1);if((0,l.useEffect)(()=>{r(!0)},[]),!i||!t)return null;let a=s/30*100;return(0,n.jsx)("div",{className:"fixed top-16 left-0 right-0 z-40 pointer-events-none flex justify-center px-4 py-4",children:(0,n.jsxs)("div",{className:"relative bg-white border-2 border-red-300 rounded-lg shadow-lg max-w-md w-full pointer-events-auto",children:[(0,n.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gray-200 rounded-t-md overflow-hidden",children:(0,n.jsx)("div",{className:"h-full bg-red-500 transition-all duration-1000 ease-linear",style:{width:"".concat(a,"%")}})}),(0,n.jsx)("div",{className:"p-4 pt-5",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 102 0V6z",clipRule:"evenodd"})})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"Session ending soon"}),(0,n.jsx)("p",{className:"text-xs text-slate-600",children:"Move your mouse or press a key to stay logged in"})]})]}),(0,n.jsxs)("div",{className:"text-3xl font-bold text-red-600 tabular-nums min-w-12 text-right",children:[s,"s"]})]})})]})})}function c(e){let{children:t}=e,[s,c]=(0,l.useState)(!1),[d,o]=(0,l.useState)(0);return!function(e){let t=(0,i.useRouter)(),s=(0,r.createBrowserClient)("https://ckubfbjfjbhuotyfwmac.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNrdWJmYmpmamJodW90eWZ3bWFjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg5ODY1NzgsImV4cCI6MjA3NDU2MjU3OH0._Stz6_nHRQMqs2N1HdJ9Y7gEjL60s2ua9d5YcMn1H3Y"),[n,a]=(0,l.useState)(!1),[c,d]=(0,l.useState)(0),o=(0,l.useCallback)(async()=>{await s.auth.signOut(),t.push("/login")},[s,t]);(0,l.useEffect)(()=>{let t=null,s=null,l=null,i=()=>{t&&clearTimeout(t),s&&clearTimeout(s),l&&clearInterval(l),a(!1),d(0),null==e||e(!1,0),s=setTimeout(()=>{a(!0),null==e||e(!0,30),d(30);let t=30;l=setInterval(()=>{d(t-=1),null==e||e(!0,t),t<=0&&l&&clearInterval(l)},1e3)},27e4),t=setTimeout(o,3e5)},r=["mousedown","keydown","scroll","touchstart","click"],c=()=>{n||i()};return r.forEach(e=>{window.addEventListener(e,c)}),i(),()=>{t&&clearTimeout(t),s&&clearTimeout(s),l&&clearInterval(l),r.forEach(e=>{window.removeEventListener(e,c)})}},[t,s,o,n,e])}((e,t)=>{c(e),o(t||0)}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a,{showWarning:s,secondsRemaining:d}),t]})}}},function(e){e.O(0,[340,648,971,117,744],function(){return e(e.s=5312)}),_N_E=e.O()}]);